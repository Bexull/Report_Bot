from aiogram import types
from aiogram.filters import Command

from app.keyboards.reply import ReplyKeyboards
from app.config.settings import HOURS_PER_FTE, COST_PER_FTE, YEAR_RANGE_MIN, YEAR_RANGE_MAX


async def cmd_start(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    welcome_text = """
üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–æ—Ç —Ä–∞—Å—á–µ—Ç–∞ —á–∞—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤!

–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å:
‚Ä¢ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
‚Ä¢ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —á–∞—Å—ã –ø–æ FTE
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏/–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá
    """
    
    keyboard = ReplyKeyboards.get_main_menu()
    await message.answer(welcome_text, reply_markup=keyboard)


async def cmd_help(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help"""
    help_text = """
üìö <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞</b>

<b>–ö–æ–º–∞–Ω–¥—ã:</b>
/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

<b>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</b>
1. –ù–∞–∂–º–∏—Ç–µ "üìä –ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç"
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –ò–õ–ò –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –∫–æ–¥/–Ω–∞–∑–≤–∞–Ω–∏–µ
3. –í–≤–µ–¥–∏—Ç–µ –≥–æ–¥ ({YEAR_RANGE_MIN}-{YEAR_RANGE_MAX})
4. –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü
5. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á–µ—Ç–∞

<b>–ü–æ–∏—Å–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞:</b>
‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ
‚Ä¢ –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1064)
‚Ä¢ –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

<b>–ß—Ç–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–æ—Ç:</b>
‚Ä¢ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã
‚Ä¢ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —á–∞—Å—ã –ø–æ FTE
‚Ä¢ –ê–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏/–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤

<b>–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:</b>
‚Ä¢ {HOURS_PER_FTE} —á–∞—Å–æ–≤ –Ω–∞ 1 FTE
‚Ä¢ {COST_PER_FTE:,} —Ç–µ–Ω–≥–µ –Ω–∞ 1 FTE
    """
    
    await message.answer(help_text, parse_mode="HTML")


async def cmd_unknown(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
    unknown_text = f"""
‚ùå <b>–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: {message.text}</b>

<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
/help - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

<b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</b>
üìä –ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—á–µ—Ç —á–∞—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
üìä –ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç - –í—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /help –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π —Å–ø—Ä–∞–≤–∫–∏.
    """
    
    await message.answer(unknown_text, parse_mode="HTML")